<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Data Order Laundry | Amelia Laundry</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    >

    <style>
        :root {
            --purple: #6A0DAD;
            --purple-dark: #4B0082;
            --purple-light: #9A4DFF;
            --sidebar-bg: #2F004F;
            --sidebar-hover: #3D0066;
            --bg-light: #F5F0FF;
        }
        *{box-sizing:border-box;}
        body{
            margin:0;
            font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Arial,sans-serif;
            background:var(--bg-light);
        }
        .layout{display:flex;min-height:100vh;}
        .sidebar{width:230px;background:var(--sidebar-bg);color:#ecf0f1;display:flex;flex-direction:column;}
        .sidebar-brand{padding:15px 20px;background:var(--purple);font-weight:700;font-size:20px;}
        .sidebar-user{padding:15px 20px;border-bottom:1px solid rgba(255,255,255,0.15);display:flex;gap:10px;align-items:center;}
        .avatar-circle{width:38px;height:38px;border-radius:50%;background:var(--purple-light);display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;}
        .status-dot{display:inline-block;width:8px;height:8px;border-radius:50%;background:#2ecc71;margin-right:4px;}
        .sidebar-menu{list-style:none;padding:0;margin:0;flex:1;}
        .sidebar-menu li a{display:block;padding:10px 20px;color:#b8c7ce;font-size:14px;text-decoration:none;}
        .sidebar-menu li a:hover,.sidebar-menu li a.active{background:var(--sidebar-hover);color:#fff;}
        .sidebar-footer{padding:10px 20px;font-size:11px;color:#95a5a6;border-top:1px solid rgba(255,255,255,0.15);}
        .main{flex:1;display:flex;flex-direction:column;}
        .topbar{background:var(--purple-dark);color:#fff;padding:10px 20px;display:flex;justify-content:space-between;align-items:center;}
        .content-wrapper{padding:20px;}
        .box{background:#fff;border-radius:15px;box-shadow:0 2px 10px rgba(0,0,0,0.1);margin-bottom:20px;}
        .box-header{padding:10px 15px;border-bottom:1px solid #eee;border-radius:15px 15px 0 0;background:var(--purple);color:#fff;font-weight:600;}
        .box-body{padding:12px 15px 15px;}
        .status-pill{border-radius:999px;padding:3px 9px;font-size:11px;color:#fff;background:var(--purple);}
    </style>
</head>
<body>
<div class="layout">
    <aside class="sidebar">
        <div class="sidebar-brand">Amelia Laundry</div>
        <div class="sidebar-user">
            <div class="avatar-circle">{{ username|slice:":1"|upper }}</div>
            <div>
                <div style="font-size:14px;">{{ username }}</div>
                <small><span class="status-dot"></span> Online</small>
            </div>
        </div>
        <ul class="sidebar-menu">
            <li><a href="{% url 'admin_dashboard' %}">ðŸ“Š Dashboard</a></li>
            <li><a href="{% url 'admin_customers' %}">ðŸ‘¥ Data Pelanggan</a></li>
            <li><a href="{% url 'admin_orders' %}" class="active">ðŸ§º Data Order Laundry</a></li>
            <li><a href="{% url 'admin_reports' %}">ðŸ“ˆ Laporan</a></li>
            <li><a href="{% url 'logout' %}">ðŸšª Logout</a></li>
        </ul>
        <div class="sidebar-footer">Amelia Laundry &copy; 2025</div>
    </aside>

    <div class="main">
        <header class="topbar">
            <div>Data Order Laundry</div>
            <div>ðŸ‘¤ {{ username }}</div>
        </header>

        <div class="content-wrapper">
            <div class="box">
                <div class="box-header">Semua Order Laundry</div>
                <div class="box-body">
                    {% if orders %}
                        <div class="table-responsive">
                            <table class="table table-sm align-middle">
                                <thead class="table-light">
                                    <tr>
                                        <th>#</th>
                                        <th>Customer</th>
                                        <th>Layanan</th>
                                        <th>Berat</th>
                                        <th>Estimasi harga</th>
                                        <th>Status</th>
                                        <th>Alamat</th>
                                        <th>Catatan</th>
                                        <th>Dibuat</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    {% for order in orders %}
                                    <tr>
                                        <td>{{ order.id }}</td>
                                        <td>{{ order.customer.username }}</td>
                                        <td>{{ order.get_service_type_display }}</td>
                                        <td>{{ order.weight_kg }} kg</td>
                                        <td>Rp {{ order.total_price|floatformat:0 }}</td>
                                        <td><span class="status-pill">{{ order.get_status_display }}</span></td>
                                        <td>{{ order.address }}</td>
                                        <td>{{ order.note }}</td>
                                        <td>{{ order.created_at|date:"d M Y H:i" }}</td>
                                    </tr>
                                    {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    {% else %}
                        <p>Belum ada order.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>
